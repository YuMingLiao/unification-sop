<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Generic.Unification.Substitution</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">unification-sop-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2018-19 Carlo Nucera</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Carlo Nucera &lt;meditans@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Generic.Unification.Substitution</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Substitutions</a><ul><li><a href="#g:2">Operations on substitutions</a></li></ul></li><li><a href="#g:3">The Substitutable class</a></li><li><a href="#g:4">Other type-indexed structures</a><ul><li><a href="#g:5">Free Variables</a></li><li><a href="#g:6">Visited Sets</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module mainly defines <code><a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></code>s and related operations, and a
 typeclass <code><a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a></code> to apply substitutions and get free variables.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Substitution">Substitution</a> = <a href="#v:Substitution">Substitution</a> (TypeRepMap (<a href="Generic-Unification-Substitution.html#t:Constrained" title="Generic.Unification.Substitution">Constrained</a> <a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntMap-Strict.html#t:IntMap" title="Data.IntMap.Strict">IntMap</a> <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP.html#t::.:" title="Generics.SOP">:.:</a> <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a>)))</li><li class="src short"><span class="keyword">class</span> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> a) =&gt; <a href="#t:WellFormed">WellFormed</a> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Constrained">Constrained</a> c f a = c a =&gt; <a href="#v:Constrained">Constrained</a> (f a)</li><li class="src short"><a href="#v:withConstrained">withConstrained</a> :: (<span class="keyword">forall</span> x. c x =&gt; f x -&gt; r) -&gt; <a href="Generic-Unification-Substitution.html#t:Constrained" title="Generic.Unification.Substitution">Constrained</a> c f a -&gt; r</li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></li><li class="src short"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> a. (<a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a) =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></li><li class="src short"><a href="#v:singleton">singleton</a> :: <span class="keyword">forall</span> a. (<a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a) =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></li><li class="src short"><a href="#v:lookup">lookup</a> :: <span class="keyword">forall</span> a. <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a)</li><li class="src short"><a href="#v:union">union</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></li><li class="src short"><a href="#v:fold">fold</a> :: <span class="keyword">forall</span> m. <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (<span class="keyword">forall</span> x. <a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> x =&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> x -&gt; m) -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; m</li><li class="src short"><a href="#v:substFreeVars">substFreeVars</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Substitutable">Substitutable</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:-64--64-">(@@)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a)</li><li><a href="#v:ftv">ftv</a> :: <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:FreeVars">FreeVars</a> = <a href="#v:FreeVars">FreeVars</a> (TypeRepMap (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))</li><li class="src short"><a href="#v:memberFreeVars">memberFreeVars</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:freeVarsOfType">freeVarsOfType</a> :: <span class="keyword">forall</span> a b. (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> b) =&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> b -&gt; [<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a]</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Visited">Visited</a> = <a href="#v:Visited">Visited</a> (TypeRepMap (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))</li><li class="src short"><a href="#v:memberVisited">memberVisited</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:insertVisited">insertVisited</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Substitutions</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Substitution" class="def">Substitution</a> <a href="#t:Substitution" class="selflink">#</a></p><div class="doc"><p>Substitutions map variables (internally represented as Ints) to Terms of a
 specific type. A key design principle of this library is that each type has
 its set of variables, that do not overlap. So in the following substitution
 the variable 1 of type Char tracks the term `Con c` while the variable 1 of
 type Int tracks the term `Con 42`. There is no possibility of ambiguity, and
 this simplifies the definition of Term.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex_substitution = insert @Char 1 (Con 'c') . insert @Int 1 (Con 42) $ empty :: Substitution
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex_substitution
</code></strong>Substitution { Int -&gt; [(1,Con 42)], Char -&gt; [(1,Con 'c')] }
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Substitution" class="def">Substitution</a> (TypeRepMap (<a href="Generic-Unification-Substitution.html#t:Constrained" title="Generic.Unification.Substitution">Constrained</a> <a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntMap-Strict.html#t:IntMap" title="Data.IntMap.Strict">IntMap</a> <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP.html#t::.:" title="Generics.SOP">:.:</a> <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a>)))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Substitution" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:Show:1"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></span> <a href="#t:Substitution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Substitution:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a>] -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:Semigroup:2"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></span> <a href="#t:Substitution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Substitution:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:Monoid:3"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a></span> <a href="#t:Substitution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Substitution:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a>] -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:MonadState:4"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="Generic-Unification-Hinze.html#t:Logic" title="Generic.Unification.Hinze">Logic</a></span> <a href="#t:MonadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Substitution:MonadState:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Hinze.html">Generic.Unification.Hinze</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Generic-Unification-Hinze.html#t:Logic" title="Generic.Unification.Hinze">Logic</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Hinze.html#t:Logic" title="Generic.Unification.Hinze">Logic</a> () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; (a, <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a>)) -&gt; <a href="Generic-Unification-Hinze.html#t:Logic" title="Generic.Unification.Hinze">Logic</a> a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:MonadState:5"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> (<a href="Generic-Unification-Unification.html#t:UnificationT" title="Generic.Unification.Unification">UnificationT</a> m)</span> <a href="#t:MonadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Substitution:MonadState:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Unification.html">Generic.Unification.Unification</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Generic-Unification-Unification.html#t:UnificationT" title="Generic.Unification.Unification">UnificationT</a> m <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Unification.html#t:UnificationT" title="Generic.Unification.Unification">UnificationT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; (a, <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a>)) -&gt; <a href="Generic-Unification-Unification.html#t:UnificationT" title="Generic.Unification.Unification">UnificationT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> a) =&gt; <a id="t:WellFormed" class="def">WellFormed</a> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="#t:WellFormed" class="selflink">#</a></p><div class="doc"><p>This is a class that expresses the constraint we need every type in our
 substitution to have. It is an implementation detail of the library, but
 helps in understanding which datatype we can have in our substitutions.</p></div><div class="subs instances"><details id="i:WellFormed" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:WellFormed:WellFormed:1"></span> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a), <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> a) =&gt; <a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> a</span> <a href="#t:WellFormed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:WellFormed:WellFormed:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Constrained" class="def">Constrained</a> c f a <a href="#t:Constrained" class="selflink">#</a></p><div class="doc"><p>A datatype that includes a constraint (this is useful because, as a
 substitution contains heterogeneous terms, we have to be sure that those
 terms have some common behaviour to be able to operate on them, and we use
 Constrained to assure that).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">c a =&gt; <a id="v:Constrained" class="def">Constrained</a> (f a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:withConstrained" class="def">withConstrained</a> :: (<span class="keyword">forall</span> x. c x =&gt; f x -&gt; r) -&gt; <a href="Generic-Unification-Substitution.html#t:Constrained" title="Generic.Unification.Substitution">Constrained</a> c f a -&gt; r <a href="#v:withConstrained" class="selflink">#</a></p><div class="doc"><p>The generic eliminator for <code><a href="Generic-Unification-Substitution.html#t:Constrained" title="Generic.Unification.Substitution">Constrained</a></code></p></div></div><a href="#g:2" id="g:2"><h2>Operations on substitutions</h2></a><div class="top"><p class="src"><a id="v:empty" class="def">empty</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:empty" class="selflink">#</a></p><div class="doc"><p>The empty substitution, which does not contain variable bindings</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>empty
</code></strong>Substitution {  }
</pre></div></div><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> :: <span class="keyword">forall</span> a. (<a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a) =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>Insert a variable binding into a substitution</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>insert @Int 1 (Con 42) empty
</code></strong>Substitution { Int -&gt; [(1,Con 42)] }
</pre></div></div><div class="top"><p class="src"><a id="v:singleton" class="def">singleton</a> :: <span class="keyword">forall</span> a. (<a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> a, <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a) =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:singleton" class="selflink">#</a></p><div class="doc"><p>A substitution with only one variable binding</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>singleton @Int 1 (Con 42)
</code></strong>Substitution { Int -&gt; [(1,Con 42)] }
</pre></div></div><div class="top"><p class="src"><a id="v:lookup" class="def">lookup</a> :: <span class="keyword">forall</span> a. <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a) <a href="#v:lookup" class="selflink">#</a></p><div class="doc"><p>Search for a variable in the substitution</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lookup @Int 1 $ singleton @Int 1 (Con 42)
</code></strong>Just (Con 42)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lookup @String 1 $ singleton @Int 1 (Con 42)
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:union" class="def">union</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> <a href="#v:union" class="selflink">#</a></p><div class="doc"><p>The union of two substitutions. It has the same bias of union in Data.Map,
 if you think a substitution as a [(Type, Value)] map-like structure</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>union (singleton @Int 1 (Con 42)) (singleton @Char 1 (Con 'c'))
</code></strong>Substitution { Int -&gt; [(1,Con 42)], Char -&gt; [(1,Con 'c')] }
</pre></div></div><div class="top"><p class="src"><a id="v:fold" class="def">fold</a> :: <span class="keyword">forall</span> m. <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (<span class="keyword">forall</span> x. <a href="Generic-Unification-Substitution.html#t:WellFormed" title="Generic.Unification.Substitution">WellFormed</a> x =&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> x -&gt; m) -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; m <a href="#v:fold" class="selflink">#</a></p><div class="doc"><p>We can fold a substitution in a monoidal value</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fold (\a -&gt; [show a]) (insert @Char 1 (Con 'c') . insert @Int 1 (Con 42) $ empty)
</code></strong>[&quot;Con 42&quot;,&quot;Con 'c'&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:substFreeVars" class="def">substFreeVars</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:substFreeVars" class="selflink">#</a></p><div class="doc"><p>Take all variables that are free in a substitution. This amounts to taking
 all the free variables of the internal terms</p></div></div><a href="#g:3" id="g:3"><h1>The Substitutable class</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Substitutable" class="def">Substitutable</a> a <span class="keyword">where</span> <a href="#t:Substitutable" class="selflink">#</a></p><div class="doc"><p>This class means that we can calculate the free variables of something and
 apply to it a substitution. The default instance signatures appear duplicated
 for a <a href="https://github.com/haskell/haddock/issues/567">bug</a> of haddock.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:-64--64-" class="def">(@@)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a) <a href="#v:-64--64-" class="selflink">#</a></p><div class="doc"><p>Apply a substitution to a term. This is also where we check for a cycle
 to occur, as we don't do the occur check in the unification algorithm to
 speed it up.</p></div><p class="src"><a id="v:-64--64-" class="def">(@@)</a> :: (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP.html#t:All2" title="Generics.SOP">All2</a> <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> (<a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a), <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a) =&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a) <a href="#v:-64--64-" class="selflink">#</a></p><div class="doc"><p>Apply a substitution to a term. This is also where we check for a cycle
 to occur, as we don't do the occur check in the unification algorithm to
 speed it up.</p></div><p class="src"><a id="v:ftv" class="def">ftv</a> :: <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:ftv" class="selflink">#</a></p><div class="doc"><p>Calculate the free variables of a term.</p></div><p class="src"><a id="v:ftv" class="def">ftv</a> :: (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP.html#t:All2" title="Generics.SOP">All2</a> <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> (<a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a), <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a) =&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:ftv" class="selflink">#</a></p><div class="doc"><p>Calculate the free variables of a term.</p></div></div><div class="subs instances"><details id="i:Substitutable" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Substitutable:Substitutable:1"></span> <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a></span> <a href="#t:Substitutable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Substitutable:Substitutable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-64--64-">(@@)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>) <a href="#v:-64--64-" class="selflink">#</a></p><p class="src"><a href="#v:ftv">ftv</a> :: <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:ftv" class="selflink">#</a></p><p class="src"><a href="#v:sbs">sbs</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Substitutable:Substitutable:2"></span> <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></span> <a href="#t:Substitutable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Substitutable:Substitutable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-64--64-">(@@)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="#v:-64--64-" class="selflink">#</a></p><p class="src"><a href="#v:ftv">ftv</a> :: <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:ftv" class="selflink">#</a></p><p class="src"><a href="#v:sbs">sbs</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Substitutable:Substitutable:3"></span> (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP.html#t:All2" title="Generics.SOP">All2</a> <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> (<a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a), <a href="file:///nix/store/dg4nnhpbn1j7gg70nvg0wkiqazjlyqg1-generics-sop-0.4.0.1-doc/share/doc/generics-sop-0.4.0.1/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a) =&gt; <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> a</span> <a href="#t:Substitutable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Substitutable:Substitutable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-64--64-">(@@)</a> :: <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a) <a href="#v:-64--64-" class="selflink">#</a></p><p class="src"><a href="#v:ftv">ftv</a> :: <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:ftv" class="selflink">#</a></p><p class="src"><a href="#v:sbs">sbs</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Substitution" title="Generic.Unification.Substitution">Substitution</a> -&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a)</p></div></details></td></tr></table></details></div></div><a href="#g:4" id="g:4"><h1>Other type-indexed structures</h1></a><a href="#g:5" id="g:5"><h2>Free Variables</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:FreeVars" class="def">FreeVars</a> <a href="#t:FreeVars" class="selflink">#</a></p><div class="doc"><p>This datatype encodes the free (not bound) variables that we can have in a
 term or a substitution. Basically, since our variables are overlappable, a
 set of variables for every type.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>FreeVars (fromList [TM.WrapTypeable @Int $ Const (IS.fromList [1,2]), TM.WrapTypeable @Char $ Const (IS.fromList [1,3])])
</code></strong>FreeVars { Int -&gt; [1,2], Char -&gt; [1,3] }
</pre><p>Usually one would get a <code><a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></code> from using the method <code><a href="Generic-Unification-Substitution.html#v:ftv" title="Generic.Unification.Substitution">ftv</a></code> of the
 Substitutable class.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ftv (Var 1 :: Term Int)
</code></strong>FreeVars { Int -&gt; [1] }
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FreeVars" class="def">FreeVars</a> (TypeRepMap (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:FreeVars" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FreeVars:Show:1"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></span> <a href="#t:FreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FreeVars:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a>] -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FreeVars:Semigroup:2"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></span> <a href="#t:FreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FreeVars:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FreeVars:Monoid:3"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></span> <a href="#t:FreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FreeVars:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a>] -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:memberFreeVars" class="def">memberFreeVars</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:memberFreeVars" class="selflink">#</a></p><div class="doc"><p>We can query if a variable is in the FreeVars at a certain type</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>memberFreeVars @Int 1 (ftv (Var 1 :: Term Int))
</code></strong>True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>memberFreeVars @Int 1 (ftv (Var 1 :: Term Char))
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:freeVarsOfType" class="def">freeVarsOfType</a> :: <span class="keyword">forall</span> a b. (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="Generic-Unification-Substitution.html#t:Substitutable" title="Generic.Unification.Substitution">Substitutable</a> b) =&gt; <a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> b -&gt; [<a href="Generic-Unification-Term.html#t:Term" title="Generic.Unification.Term">Term</a> a] <a href="#v:freeVarsOfType" class="selflink">#</a></p><div class="doc"><p>Get all the free variables of a type, as variables of that term. This is
 made to implement the equivalent of prolog's term_variables.</p></div></div><a href="#g:6" id="g:6"><h2>Visited Sets</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Visited" class="def">Visited</a> <a href="#t:Visited" class="selflink">#</a></p><div class="doc"><p>Visited sets: an abstraction in the Dijkstra paper that let us avoid
 expensive occurs check in the substitution process, substituting it with
 checking visited sets when the substitution is applied. This datatype is
 representationally equivalent to <code><a href="Generic-Unification-Substitution.html#t:FreeVars" title="Generic.Unification.Substitution">FreeVars</a></code>, ie. it is only a <code><a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a></code> for
 every type.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Visited (fromList [TM.WrapTypeable @Int $ Const (IS.fromList [1,2]), TM.WrapTypeable @Char $ Const (IS.fromList [1,3])])
</code></strong>Visited { Int -&gt; [1,2], Char -&gt; [1,3] }
</pre><p>This datatype is only meant to be used in the library, the user shouldn't
 need it.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Visited" class="def">Visited</a> (TypeRepMap (<a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Visited" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Visited:Show:1"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a></span> <a href="#t:Visited" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Visited:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a>] -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Visited:Semigroup:2"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a></span> <a href="#t:Visited" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Visited:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Visited:Monoid:3"></span> <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a></span> <a href="#t:Visited" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Visited:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Generic-Unification-Substitution.html">Generic.Unification.Substitution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a>] -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:memberVisited" class="def">memberVisited</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:memberVisited" class="selflink">#</a></p><div class="doc"><p>We can query if a variable at a certain type has been visited</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>memberVisited @Int 1 mempty
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>memberVisited @Int 1 $ insertVisited @Int 1 mempty
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:insertVisited" class="def">insertVisited</a> :: <span class="keyword">forall</span> (a :: <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="file:///nix/store/ppndnm4xrmyljdg1bsvi2n2vrkicb2g2-ghc-8.6.3-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> -&gt; <a href="Generic-Unification-Substitution.html#t:Visited" title="Generic.Unification.Substitution">Visited</a> <a href="#v:insertVisited" class="selflink">#</a></p><div class="doc"><p>We can signal that a variable at a certain type has been visited</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XTypeApplications
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>insertVisited @Int 1 mempty
</code></strong>Visited { Int -&gt; [1] }
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>